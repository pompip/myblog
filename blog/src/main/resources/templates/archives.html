<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" >
<head>
    <th:block th:replace="/layout::head"/>
    <title>档案</title>
    <script>
        function clickDelete(id) {
            fetch("/article/delete/" + id).then(function (response) {
                if (response.status === 200) {
                    location.reload();
                }
            });
        }
        function clickEditor(id) {
            location.replace("/editor")
        }
    </script>
</head>
<body>
<nav th:replace="layout::nav"></nav>
<main class="container-fluid row" >
    <div class="col-2"></div>
    <div class="col-sm-7">
        <h2>2018</h2>
        <ul class="list-group">
            <li class="list-group-item " th:each="art:${articleList}">
                <div class="pl-2 row" th:text="${#dates.format(art.getCreateTimestamp(),'yy-MM-dd HH:mm')}">Mar 19, 2018</div>
                <div class="row">
                    <h4 class="flex-grow-1"><a  th:href="@{/archive/{id}(id=${art.getId()})}" th:text="${art.getTitle()}">
                        标题</a></h4>
                    <a class="m-1 text-primary" th:href="@{/markdown/{id}(id=${art.getId()})}"> 编辑 </a>
                    <a class="m-1 text-secondary" href="#" th:onclick="'javascript:clickDelete('+${art.getId()}+')'"> 删除</a>
                </div>
            </li>

        </ul>
    </div>
</main>
<footer th:replace="layout::footer"></footer>
</body>
</html>